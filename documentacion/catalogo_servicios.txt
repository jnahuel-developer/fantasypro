catalogo_servicios_mod0013.txt
-------------------------------------------------------------------------------
CATÁLOGO DE SERVICIOS — FantasyPro
Módulo: Servicios
Versión: mod0013
Descripción:
Conjunto de servicios encargados de la comunicación con Firebase Firestore y
Firebase Auth. Esta versión incorpora los servicios separados de equipos reales
y equipos fantasy, manteniendo compatibilidad con los servicios anteriores.
-------------------------------------------------------------------------------

 // ---------------------------------------------------------------------------
 // Archivo: lib/servicios/firebase/servicio_equipos_reales.dart
 // ---------------------------------------------------------------------------
 Descripción:
   Servicio para administrar equipos reales en Firestore.
 Responsabilidades:
   - Crear, listar, editar, activar, archivar y eliminar equipos reales.
 Dependencias directas:
   - cloud_firestore
   - modelos/equipo_real.dart
   - servicio_log.dart

 Método: crearEquipoReal
 Firma: Future<EquipoReal> crearEquipoReal(EquipoReal equipo)
 Descripción:
   Crea un documento de equipo real en Firestore.
 Ejemplo:
   final r = await servicio.crearEquipoReal(equipo);

 Método: obtenerEquiposDeLiga
 Firma: Future<List<EquipoReal>> obtenerEquiposDeLiga(String idLiga)
 Descripción:
   Devuelve los equipos reales asociados a una liga.
 Ejemplo:
   final lista = await servicio.obtenerEquiposDeLiga("L1");

 Método: editarEquipoReal
 Firma: Future<void> editarEquipoReal(EquipoReal equipo)
 Descripción:
   Actualiza un equipo real existente.
 Ejemplo:
   await servicio.editarEquipoReal(e);

 Método: archivarEquipoReal
 Firma: Future<void> archivarEquipoReal(String id)
 Descripción:
   Marca un equipo real como inactivo.
 Ejemplo:
   await servicio.archivarEquipoReal("ER1");

 Método: activarEquipoReal
 Firma: Future<void> activarEquipoReal(String id)
 Descripción:
   Marca un equipo real como activo.
 Ejemplo:
   await servicio.activarEquipoReal("ER1");

 Método: eliminarEquipoReal
 Firma: Future<void> eliminarEquipoReal(String id)
 Descripción:
   Elimina un equipo real.
 Ejemplo:
   await servicio.eliminarEquipoReal("ER1");

 // ---------------------------------------------------------------------------
 // Archivo: lib/servicios/firebase/servicio_equipos_fantasy.dart
 // ---------------------------------------------------------------------------
 Descripción:
   Servicio para administrar equipos fantasy de usuarios.
 Responsabilidades:
   - Crear, listar por usuario y liga, editar, activar, archivar, eliminar.
 Dependencias directas:
   - cloud_firestore
   - modelos/equipo_fantasy.dart
   - servicio_log.dart

 Método: crearEquipoFantasy
 Firma: Future<EquipoFantasy> crearEquipoFantasy(String idUsuario, String idLiga, String nombre)
 Descripción:
   Crea un equipo fantasy vacío.
 Ejemplo:
   final ef = await servicio.crearEquipoFantasy("U1", "L1", "Mi Equipo");

 Método: obtenerPorUsuarioYLiga
 Firma: Future<List<EquipoFantasy>> obtenerPorUsuarioYLiga(String idUsuario, String idLiga)
 Descripción:
   Obtiene todos los equipos fantasy del usuario en una liga.
 Ejemplo:
   final list = await servicio.obtenerPorUsuarioYLiga("U1", "L1");

 Método: editarEquipoFantasy
 Firma: Future<void> editarEquipoFantasy(EquipoFantasy equipo)
 Descripción:
   Actualiza los datos del equipo fantasy.
 Ejemplo:
   await servicio.editarEquipoFantasy(e);

 Método: archivarEquipoFantasy
 Firma: Future<void> archivarEquipoFantasy(String id)
 Descripción:
   Marca un equipo fantasy como inactivo.
 Ejemplo:
   await servicio.archivarEquipoFantasy("EF1");

 Método: activarEquipoFantasy
 Firma: Future<void> activarEquipoFantasy(String id)
 Descripción:
   Marca un equipo fantasy como activo.
 Ejemplo:
   await servicio.activarEquipoFantasy("EF1");

 Método: eliminarEquipoFantasy
 Firma: Future<void> eliminarEquipoFantasy(String id)
 Descripción:
   Elimina un equipo fantasy.
 Ejemplo:
   await servicio.eliminarEquipoFantasy("EF1");

 // ---------------------------------------------------------------------------
 // Archivo: lib/servicios/firebase/servicio_equipos.dart
 // ---------------------------------------------------------------------------
 Descripción:
   Servicio original de equipos. Ahora marcado como DEPRECATED.
 Responsabilidades:
   - Mantener compatibilidad retroactiva.
 Dependencias directas:
   - cloud_firestore
   - modelos/equipo.dart
   - servicio_log.dart

 Método: crearEquipo
 Firma: Future<Equipo> crearEquipo(Equipo equipo)

 Método: crearEquipoInicial
 Firma: Future<Equipo> crearEquipoInicial(String idUsuario, String idLiga, String nombre)

 Método: obtenerEquiposDeLiga
 Firma: Future<List<Equipo>> obtenerEquiposDeLiga(String idLiga)

 Método: editarEquipo
 Firma: Future<void> editarEquipo(Equipo equipo)

 Método: archivarEquipo
 Firma: Future<void> archivarEquipo(String id)

 Método: activarEquipo
 Firma: Future<void> activarEquipo(String id)

 Método: eliminarEquipo
 Firma: Future<void> eliminarEquipo(String id)

 // ---------------------------------------------------------------------------
 // Archivos restantes del módulo de servicios
 // (No modificados en esta versión — solo se catalogan)
 // ---------------------------------------------------------------------------

 Archivo: servicio_ligas.dart  
 Métodos públicos:
   - crearLiga(Liga liga)
   - obtenerLiga(String id)
   - obtenerLigasActivas()
   - buscarLigasPorNombre(String texto)
   - obtenerTodasLasLigas()
   - editarLiga(Liga liga)
   - archivarLiga(String id)
   - activarLiga(String id)
   - eliminarLiga(String id)

 Archivo: servicio_participaciones.dart  
 Métodos públicos:
   - crearParticipacion(ParticipacionLiga participacion)
   - usuarioYaParticipa(String idUsuario, String idLiga)
   - obtenerPorLiga(String idLiga)
   - obtenerPorUsuario(String idUsuario)
   - editarParticipacion(ParticipacionLiga participacion)
   - archivarParticipacion(String id)
   - activarParticipacion(String id)
   - eliminarParticipacion(String id)

 Archivo: servicio_jugadores.dart  
 Métodos públicos:
   - crearJugador(Jugador jugador)
   - obtenerJugadoresDeEquipo(String idEquipo)
   - editarJugador(Jugador jugador)
   - archivarJugador(String id)
   - activarJugador(String id)
   - eliminarJugador(String id)

 Archivo: servicio_alineaciones.dart  
 Métodos públicos:
   - crearAlineacion(Alineacion alineacion)
   - obtenerPorUsuarioEnLiga(String idLiga, String idUsuario)
   - editarAlineacion(Alineacion alineacion)
   - archivarAlineacion(String id)
   - activarAlineacion(String id)
   - eliminarAlineacion(String id)

 Archivo: servicio_autenticacion.dart  
 Métodos públicos:
   - registrarUsuario(String email, String password, String nombre, String rolDB)
   - iniciarSesion(String email, String password)
   - cerrarSesion()
   - obtenerUsuarioActual()
   - esAdmin(String uid)

 Archivo: servicio_base_de_datos.dart  
 Métodos públicos:
   - guardarUsuario(String uid, Map<String, dynamic> datos)
   - obtenerUsuario(String uid)
   - crearLiga(Map<String, dynamic> datos)
   - listarLigasStream()

 Archivo: servicio_inicializacion.dart  
 Métodos públicos:
   - inicializarDesdeArchivo(String rutaConfig)
   - app (getter)

 Archivo: servicio_reglas_de_seguridad.dart  
 Métodos públicos:
   - reglasEjemplo()