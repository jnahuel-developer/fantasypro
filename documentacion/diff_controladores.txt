========================================
diff_controladores_mod0015.txt
========================================

DIFF FUNCIONAL mod0014 → mod0015
Módulo: Controladores

+ Archivos agregados:
  - controlador_fechas.dart
    Métodos públicos expuestos:
      • Future<FechaLiga> crearFecha(String idLiga)
      • Future<List<FechaLiga>> obtenerPorLiga(String idLiga)
      • Future<void> cerrarFecha(FechaLiga fecha)

    Descripción funcional:
      Controlador responsable de administrar las fechas de una liga. Aplica
      validaciones de negocio (existencia de liga, límites de fechas, ausencia
      de fechas activas duplicadas), delega la creación y cierre de fechas al
      servicio de fechas y coordina el archivado de la liga cuando se cierra
      la última fecha.

    Responsabilidades principales:
      - Crear fechas calculando numeroFecha y nombre automáticamente.
      - Verificar que no exista otra fecha activa.
      - Consultar fechas por liga.
      - Cerrar fechas activas validando puntajes (stub _faltanPuntajes).
      - Archivar la liga cuando se cierra la última fecha de la temporada.


~ Archivos modificados:
  - controlador_ligas.dart
    Cambios funcionales:
      * Método crearLiga:
        - Ahora recibe un parámetro opcional totalFechasTemporada con valor
          por defecto 38.
        - Valida que totalFechasTemporada esté entre 34 y 50.
        - Inicializa el campo fechasCreadas en 0 al crear una liga nueva.

      * Método agregar: Future<void> editarLiga(Liga liga)
        - Permite actualizar una liga completa, incluyendo los nuevos campos
          totalFechasTemporada y fechasCreadas.
        - Valida que totalFechasTemporada esté en el rango 34–50.
        - Valida que fechasCreadas no sea negativa.
        - Delegado a ServicioLigas.editarLiga(liga).

      * Documentación:
        - Se incorporó encabezado formal con dependencias y archivos que
          dependen del controlador.
        - Se añadieron bloques documentales antes de cada método.
        - Se documentaron las propiedades internas del controlador.


= Archivos sin cambios funcionales:
  - controlador_jugadores.dart
  - controlador_jugadores_reales.dart
  - controlador_equipo_fantasy.dart
  - controlador_equipos_reales.dart
  - controlador_participaciones.dart
  - controlador_alineaciones.dart
  - controlador_router.dart