========================================
catalogo_modelos.txt
========================================

CATÁLOGO DEL MÓDULO Modelos — mod0017
Descripción:
El módulo Modelos define las estructuras de datos utilizadas por FantasyPro para representar entidades del dominio, mantener consistencia en serialización/deserialización y proveer contratos estables entre Controladores y Servicios. No incluye lógica de negocio.





/// ---------------------------------------------------------------------------
/// Archivo: roles.dart
/// ---------------------------------------------------------------------------
/// Descripción: Enum que define los roles de usuario.
/// Responsabilidades: Mapear rol a BD y textos visibles.
/// Dependencias: textos_app.dart

/// ---------------------------------------------------------------------------
/// Método: String get valorDB
/// Descripción: Devuelve el valor compatible con BD.
/// Ejemplo:
///   rol.valorDB;


/// ---------------------------------------------------------------------------
/// Método: String get textoVisible
/// Descripción: Devuelve texto traducido.
/// Ejemplo:
///   rol.textoVisible;


/// ---------------------------------------------------------------------------
/// Método: static RolUsuario desdeValorDB(String valor)
/// Descripción: Convierte texto en enum.
/// Ejemplo:
///   final r = RolUsuarioExt.desdeValorDB("admin");



/// ---------------------------------------------------------------------------
/// Archivo: jugador.dart
/// ---------------------------------------------------------------------------
/// Descripción: Modelo legacy para representar jugadores de equipos fantasy.
/// Responsabilidades: Serialización, deserialización y copia.
/// Dependencias: Ninguna.

/// ---------------------------------------------------------------------------
/// Método: factory Jugador.desdeMapa(String id, Map<String, dynamic> datos)
/// Descripción: Construye un jugador.
/// Ejemplo:
///   final j = Jugador.desdeMapa("J1", mapa);

/// ---------------------------------------------------------------------------
/// Método: Map<String, dynamic> aMapa()
/// Descripción: Serializa.
/// Ejemplo:
///   store(j.aMapa());

/// ---------------------------------------------------------------------------
/// Método: Jugador copiarCon({ ... })
/// Descripción: Copia modificada.
/// Ejemplo:
///   final j2 = j.copiarCon(nombre: "Nuevo");

/// ---------------------------------------------------------------------------
/// Propiedades públicas:
/// id, idEquipo, nombre, posicion, nacionalidad, dorsal, fechaCreacion, activo



/// ---------------------------------------------------------------------------
/// Archivo: equipo_real.dart
/// ---------------------------------------------------------------------------
/// Descripción: Representa equipos reales administrados.
/// Responsabilidades: Persistencia de datos oficiales.
/// Dependencias: Ninguna.

/// ---------------------------------------------------------------------------
/// Método: factory EquipoReal.desdeMapa(String id, Map<String, dynamic> datos)
/// Descripción: Deserializa equipo.
/// Ejemplo:
///   final er = EquipoReal.desdeMapa("E1", mapa);

/// ---------------------------------------------------------------------------
/// Método: Map<String, dynamic> aMapa()
/// Descripción: Serializa.
/// Ejemplo:
///   save(er.aMapa());

/// ---------------------------------------------------------------------------
/// Método: EquipoReal copiarCon({ ... })
/// Descripción: Copia modificada.
/// Ejemplo:
///   final mod = er.copiarCon(nombre: "Nuevo Equipo");

/// ---------------------------------------------------------------------------
/// Propiedades públicas:
/// id, idLiga, nombre, descripcion, escudoUrl, fechaCreacion, activo



/// ---------------------------------------------------------------------------
/// Archivo: equipo_fantasy.dart
/// ---------------------------------------------------------------------------
/// Descripción: Representa un equipo fantasy del usuario.
/// Responsabilidades: Persistir el equipo inicial del usuario.
/// Dependencias: Ninguna.

/// ---------------------------------------------------------------------------
/// Método: factory EquipoFantasy.desdeMapa(String id, Map<String, dynamic> datos)
/// Descripción: Deserializa.
/// Ejemplo:
///   final ef = EquipoFantasy.desdeMapa("EF1", mapa);

/// ---------------------------------------------------------------------------
/// Método: Map<String, dynamic> aMapa()
/// Descripción: Serializa.
/// Ejemplo:
///   save(ef.aMapa());

/// ---------------------------------------------------------------------------
/// Método: EquipoFantasy copiarCon({ ... })
/// Descripción: Copia modificada.
/// Ejemplo:
///   final ef2 = ef.copiarCon(nombre: "Mi Equipo");

/// ---------------------------------------------------------------------------
/// Propiedades públicas:
/// id, idUsuario, idLiga, nombre, fechaCreacion, activo



/// ---------------------------------------------------------------------------
/// Archivo: jugador_real.dart
/// ---------------------------------------------------------------------------
/// Descripción: Representa un jugador real de un equipo real.
/// Responsabilidades: Persistencia de información profesional.
/// Dependencias: Ninguna.

/// ---------------------------------------------------------------------------
/// Método: factory JugadorReal.desdeMapa(String id, Map<String, dynamic> datos)
/// Descripción: Deserializa jugador real.
/// Ejemplo:
///   final jr = JugadorReal.desdeMapa("JR1", mapa);

/// ---------------------------------------------------------------------------
/// Método: Map<String, dynamic> aMapa()
/// Descripción: Serializa jugador real.
/// Ejemplo:
///   save(jr.aMapa());

/// ---------------------------------------------------------------------------
/// Método: JugadorReal copiarCon({ ... })
/// Descripción: Copia modificada.
/// Ejemplo:
///   final jr2 = jr.copiarCon(valorMercado: 200);

/// ---------------------------------------------------------------------------
/// Propiedades públicas:
/// id, idEquipoReal, nombre, posicion, nacionalidad, dorsal, valorMercado, activo, fechaCreacion



// ---------------------------------------------------------------------------
// Archivo: liga.dart
// ---------------------------------------------------------------------------
// Descripción:
//   Representa una Liga del sistema con información general y contadores de
//   fechas. Ahora incluye totalFechasTemporada y fechasCreadas.
// Responsabilidades:
//   - Serialización / deserialización.
//   - Seguimiento del número total de fechas y cuántas fueron generadas.
// Dependencias directas:
//   - Ninguna.

/// ---------------------------------------------------------------------------
/// Método: Liga.desdeMapa
/// Firma: factory Liga.desdeMapa(String id, Map<String, dynamic> datos)
/// Descripción:
///   Construye instancia desde Firestore; ahora carga totalFechasTemporada
///   (default 38) y fechasCreadas (default 0).
/// Ejemplo:
///   final liga = Liga.desdeMapa("L1", datos);

/// ---------------------------------------------------------------------------
/// Método: aMapa
/// Firma: Map<String, dynamic> aMapa()
/// Descripción:
///   Serializa todos los campos modernos, incluyendo totalFechasTemporada
///   y fechasCreadas.
/// Ejemplo:
///   db.set({...}, liga.aMapa());

/// ---------------------------------------------------------------------------
/// Método: copiarCon
/// Firma: Liga copiarCon({String? id, String? nombre, String? temporada, String? descripcion, int? fechaCreacion, bool? activa, int? totalFechasTemporada, int? fechasCreadas})
/// Descripción:
///   Permite crear una copia modificada, ahora soportando los nuevos campos.
/// Ejemplo:
///   final liga2 = liga.copiarCon(fechasCreadas: liga.fechasCreadas + 1);

/// ---------------------------------------------------------------------------
/// Propiedades nuevas:
/// totalFechasTemporada : int — Cantidad total de jornadas.
/// fechasCreadas : int — Cuántas fechas fueron generadas.



/// ---------------------------------------------------------------------------
/// Archivo: fecha_liga.dart
/// ---------------------------------------------------------------------------
/// Descripción:
///   Modelo que representa una Fecha perteneciente a una Liga. Define número
///   de jornada, nombre visible, estado activo/cerrado y timestamp de creación.
/// Responsabilidades:
///   - Persistencia de fechas de liga.
///   - Serialización / deserialización.
///   - Generación de copias controladas.
/// Dependencias directas:
///   - Ninguna.

/// ---------------------------------------------------------------------------
/// Método: FechaLiga.desdeMapa
/// Firma: factory FechaLiga.desdeMapa(String id, Map<String, dynamic> datos)
/// Descripción:
///   Construye una instancia recuperando datos desde Firestore.
/// Ejemplo:
///   final f = FechaLiga.desdeMapa("F1", datos);

/// ---------------------------------------------------------------------------
/// Método: aMapa
/// Firma: Map<String, dynamic> aMapa()
/// Descripción:
///   Serializa la instancia para persistirla en Firestore.
/// Ejemplo:
///   db.set({...}, fecha.aMapa());

/// ---------------------------------------------------------------------------
/// Método: copiarCon
/// Firma: FechaLiga copiarCon({String? id, String? idLiga, int? numeroFecha, String? nombre, bool? activa, bool? cerrada, int? fechaCreacion})
/// Descripción:
///   Devuelve nueva instancia aplicando solo los cambios requeridos.
/// Ejemplo:
///   final cerrada = fecha.copiarCon(cerrada: true);

/// ---------------------------------------------------------------------------
/// Propiedades:
/// id : String — Identificador único.
/// idLiga : String — Liga propietaria.
/// numeroFecha : int — Número de jornada.
/// nombre : String — Nombre visible.
/// activa : bool — Si es la fecha activa.
/// cerrada : bool — Si está cerrada.
/// fechaCreacion : int — Timestamp.



/// ---------------------------------------------------------------------------
/// Archivo: puntaje_jugador_fecha.dart
/// ---------------------------------------------------------------------------
/// Descripción:
///   Modelo que representa el puntaje real asignado a un JugadorReal en una
///   FechaLiga, incluyendo referencias redundantes necesarias para consultas.
/// Responsabilidades:
///   - Persistencia y transporte de puntajes reales.
///   - Serialización desde/hacia Firestore.
///   - Copias controladas mediante copiarCon().
/// Dependencias directas:
///   - Ninguna.

/// ---------------------------------------------------------------------------
/// Método: PuntajeJugadorFecha.desdeMapa
/// Firma: factory PuntajeJugadorFecha.desdeMapa(String id, Map<String, dynamic> datos)
/// Descripción:
///   Construye una instancia cargando los datos desde Firestore.
/// Ejemplo:
///   final p = PuntajeJugadorFecha.desdeMapa("P1", datos);

/// ---------------------------------------------------------------------------
/// Método: aMapa
/// Firma: Map<String, dynamic> aMapa()
/// Descripción:
///   Serializa la instancia actual para persistirla.
/// Ejemplo:
///   firestore.set({...}, puntaje.aMapa());

/// ---------------------------------------------------------------------------
/// Método: copiarCon
/// Firma:
///   PuntajeJugadorFecha copiarCon({
///     String? id,
///     String? idFecha,
///     String? idLiga,
///     String? idEquipoReal,
///     String? idJugadorReal,
///     int? puntuacion,
///     int? fechaCreacion,
///   })
/// Descripción:
///   Crea una copia del modelo aplicando únicamente los parámetros provistos.
/// Ejemplo:
///   final actualizado = puntaje.copiarCon(puntuacion: 8);

/// ---------------------------------------------------------------------------
/// Propiedades públicas:
/// id : String — Identificador único del puntaje.
/// idFecha : String — FechaLiga asociada.
/// idLiga : String — Liga asociada (redundante).
/// idEquipoReal : String — Equipo real del jugador.
/// idJugadorReal : String — Jugador real evaluado.
/// puntuacion : int — Puntaje asignado.
/// fechaCreacion : int — Timestamp de registro.



/// ---------------------------------------------------------------------------
/// Archivo: participacion_liga.dart
/// ---------------------------------------------------------------------------
/// Descripción:
///   Representa la participación de un usuario en una liga, incluyendo el estado
///   del armado del plantel fantasy.
/// Responsabilidades:
///   - Mantener el vínculo usuario–liga.
///   - Indicar si el plantel fantasy está completo.
/// Dependencias directas:
///   - Ninguna.

/// ---------------------------------------------------------------------------
/// Método: ParticipacionLiga.desdeMapa
/// Firma: factory ParticipacionLiga.desdeMapa(String id, Map<String, dynamic> datos)
/// Descripción:
///   Deserializa los datos de participación desde Firestore.
/// Ejemplo de uso:
///   final pl = ParticipacionLiga.desdeMapa("PL1", datos);

/// ---------------------------------------------------------------------------
/// Método: aMapa
/// Firma: Map<String, dynamic> aMapa()
/// Descripción:
///   Serializa la participación para guardar en Firestore.
/// Ejemplo de uso:
///   firestore.doc("participaciones/PL1").set(pl.aMapa());

/// ---------------------------------------------------------------------------
/// Método: copiarCon
/// Firma:
///   ParticipacionLiga copiarCon({
///     String? id,
///     String? idLiga,
///     String? idUsuario,
///     String? nombreEquipoFantasy,
///     int? puntos,
///     bool? plantelCompleto,
///     int? fechaCreacion,
///     bool? activo,
///   })
/// Descripción:
///   Crea una copia de la participación modificando solo algunos campos.
/// Ejemplo de uso:
///   final cerrada = pl.copiarCon(plantelCompleto: true);

/// ---------------------------------------------------------------------------
/// Propiedades públicas:
/// id : String — Identificador de la participación.
/// idLiga : String — Liga asociada.
/// idUsuario : String — Usuario participante.
/// nombreEquipoFantasy : String — Nombre del equipo fantasy.
/// puntos : int — Puntos acumulados.
/// plantelCompleto : bool — Indica si terminó de armar el plantel.
/// fechaCreacion : int — Timestamp de creación.
/// activo : bool — Estado de la participación.



/// ---------------------------------------------------------------------------
/// Archivo: alineacion.dart
/// ---------------------------------------------------------------------------
/// Descripción:
///   Representa una alineación de un equipo fantasy, incluyendo titulares,
///   suplentes y referencia al equipo fantasy.
/// Responsabilidades:
///   - Persistir titulares y suplentes de una alineación.
///   - Mantener la lista completa de jugadores seleccionados.
/// Dependencias directas:
///   - equipo_fantasy.dart

/// ---------------------------------------------------------------------------
/// Método: Alineacion.desdeMapa
/// Firma: factory Alineacion.desdeMapa(String id, Map<String, dynamic> datos)
/// Descripción:
///   Construye una alineación a partir de datos almacenados en Firestore.
/// Ejemplo de uso:
///   final a = Alineacion.desdeMapa("A1", datos);

/// ---------------------------------------------------------------------------
/// Método: aMapa
/// Firma: Map<String, dynamic> aMapa()
/// Descripción:
///   Serializa la alineación (incluyendo titulares y suplentes).
/// Ejemplo de uso:
///   firestore.doc("alineaciones/A1").set(a.aMapa());

/// ---------------------------------------------------------------------------
/// Método: copiarCon
/// Firma:
///   Alineacion copiarCon({
///     String? id,
///     String? idLiga,
///     String? idUsuario,
///     String? idEquipoFantasy,
///     List<String>? idsTitulares,
///     List<String>? idsSuplentes,
///     List<String>? jugadoresSeleccionados,
///     String? formacion,
///     int? puntosTotales,
///     int? fechaCreacion,
///     bool? activo,
///   })
/// Descripción:
///   Devuelve una copia de la alineación modificando solo los campos indicados.
/// Ejemplo de uso:
///   final nueva = a.copiarCon(idsTitulares: nuevosTitulares);

/// ---------------------------------------------------------------------------
/// Propiedades públicas:
/// id : String — Identificador de la alineación.
/// idLiga : String — Liga correspondiente.
/// idUsuario : String — Usuario propietario.
/// idEquipoFantasy : String — Equipo fantasy al que pertenece.
/// idsTitulares : List<String> — IDs de los 11 titulares.
/// idsSuplentes : List<String> — IDs de los 4 suplentes.
/// jugadoresSeleccionados : List<String> — Unión de titulares y suplentes.
/// formacion : String — Esquema táctico (ej.: "4-3-3").
/// puntosTotales : int — Puntos obtenidos por la alineación.
/// fechaCreacion : int — Timestamp de creación.
/// activo : bool — Estado de la alin